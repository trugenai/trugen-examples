<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>TruGen.AI – Customer Support Agent</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style>
            body {
                margin: 0;
                font-family: Arial, Helvetica, sans-serif;
            }
            h1 {
                text-align: center;
                padding: 16px;
            }
            .iframe-container {
                width: 100%;
                height: 90vh;
            }
            iframe {
                width: 100%;
                height: 100%;
                border: none;
            }
        </style>
    </head>

    <body>
        <h1>TruGen.AI – Customer Support Agent</h1>

        <div class="iframe-container">
            <iframe
                src=""
                title="TruGen AI Agent"
                allow="camera; microphone; fullscreen; display-capture"
                allowfullscreen
                loading="lazy"
                sandbox="allow-scripts allow-same-origin"
            ></iframe>
        </div>

        <script>
            const agentId = "4b7165c3-f297-414c-82f8-49da0a01632c";
            const userName = "Jane";
            const userId = "jane@trugen.ai";
            const conversationContext =
                "User is having trouble with her Xbox 360, it is showing a red ring and doesn't boot.";

            const baseUrl = "https://app.trugen.ai/embed";
            const params = new URLSearchParams({
                username: userName,
                id: userId,
                context: conversationContext,
            });

            const iframeSrc = `${baseUrl}/${agentId}?${params.toString()}`;

            // Set iframe source
            document.querySelector("iframe").src = iframeSrc;
        </script>
    </body>
</html>
